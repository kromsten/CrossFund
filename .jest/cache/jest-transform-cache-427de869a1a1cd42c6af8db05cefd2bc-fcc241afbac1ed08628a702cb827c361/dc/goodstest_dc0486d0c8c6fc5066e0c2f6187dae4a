3b261ecf2f708a05dc50175c749197a5
"use strict";

var _cosmos = require("../../helpers/cosmos");
var _common_localcosmosnet = require("../common_localcosmosnet");
var _goods = require("../../helpers/goods");
var _types = require("../../helpers/types");
var _wait = require("../../helpers/wait");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
describe('Neutron Hackaton Test', () => {
  var testState;
  var neutronChain;
  var neutronAccount, secondAccount;
  var accountAddress, secondAccountAddress;
  var contractAddress;
  var connectionId = 'connection-0';
  beforeAll( /*#__PURE__*/_asyncToGenerator(function* () {
    testState = new _common_localcosmosnet.TestStateLocalCosmosTestNet();
    yield testState.init();
    neutronChain = new _cosmos.CosmosWrapper(testState.sdk1, testState.blockWaiter1, _cosmos.NEUTRON_DENOM);
    neutronAccount = new _cosmos.WalletWrapper(neutronChain, testState.wallets.qaNeutron.genQaWal1);
    secondAccount = new _cosmos.WalletWrapper(neutronChain, testState.wallets.qaNeutronThree.genQaWal1);
    accountAddress = neutronAccount.wallet.address.toString();
    secondAccountAddress = secondAccount.wallet.address.toString();
  }));
  describe('deploying contract', () => {
    var codeId;
    test('store contract', /*#__PURE__*/_asyncToGenerator(function* () {
      codeId = yield neutronAccount.storeWasm(_types.NeutronContract.GOODS);
      expect(codeId).toBeGreaterThan(0);
    }));
    test('instantiate contract', /*#__PURE__*/_asyncToGenerator(function* () {
      contractAddress = (yield neutronAccount.instantiateContract(codeId, '{}', 'neutron_interchain_queries'))[0]._contract_address;
    }));
  });
  describe('submitting a proposal', () => {
    test('if can submit a proposal', /*#__PURE__*/_asyncToGenerator(function* () {
      var res = yield (0, _goods.createProposal)(neutronAccount, contractAddress);
      expect(res.code).toBe(0);
    }));
    test('if can query all proposal', /*#__PURE__*/_asyncToGenerator(function* () {
      var res = yield (0, _goods.queryProposals)(neutronChain, contractAddress);
      expect(res).toHaveProperty('proposals');
      expect(res.proposals.length).toBe(1);
      var proposal = res.proposals[0];
      expect(proposal.id).toBe(0);
      expect(proposal.title).toBe('test proposal');
      expect(proposal.description).toBe('test proposal description');
      expect(proposal.funding).toHaveLength(0);
    }));
    test('if can query proposal by id', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      expect(proposal.id).toBe(0);
      expect(proposal.title).toBe('test proposal');
      expect(proposal.description).toBe('test proposal description');
      expect(proposal.funding).toHaveLength(0);
    }));
  });
  describe('funding a proposal', () => {
    test('if can sends funds', /*#__PURE__*/_asyncToGenerator(function* () {
      var res = yield (0, _goods.queryProposals)(neutronChain, contractAddress);
      var {
        id
      } = res.proposals[0];
      var fundsRes = yield (0, _goods.fundProposal)(neutronAccount, contractAddress, id, "1000000", _cosmos.NEUTRON_DENOM);
      expect(fundsRes.code).toBe(0);
    }));
    test('if can proposal now have funds', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      expect(proposal.funding).toHaveLength(1);
      var [denom, value] = proposal.funding[0];
      expect(denom).toBe(_cosmos.NEUTRON_DENOM);
      expect(value.amount).toBe("1000000");
      expect(value.sender).toBe(accountAddress);
      expect(value.auto_agree).toBe(false);
      expect(value.native).toBe(true);
    }));
    test('if funds are in custody', /*#__PURE__*/_asyncToGenerator(function* () {
      var funds = yield (0, _goods.queryCustodyFunds)(neutronChain, contractAddress, neutronAccount.wallet.address.toString());
      expect(funds).toHaveLength(1);
      var [denom, fund] = funds[0];
      expect(denom).toBe(_cosmos.NEUTRON_DENOM);
      expect(fund.proposal_id).toBe(0);
      expect(fund.locked).toBe(false);
      expect(fund.amount).toBe("1000000");
      expect(fund.remote).toBeNull();
    }));
  });
  describe('submitting a application', () => {
    var currentHeight;
    test('if can submit a application', /*#__PURE__*/_asyncToGenerator(function* () {
      currentHeight = yield (0, _wait.getHeight)(neutronChain.sdk);
      var res = yield (0, _goods.submitApplication)(secondAccount, contractAddress, 0, [{
        recipient: secondAccountAddress,
        percent_share: 99
      }], [{
        recipient: accountAddress,
        percent_share: 1
      }], {
        at_height: currentHeight + 10
      });
      expect(res.code).toBe(0);
    }));
    test('if the proposal now have applications', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      expect(proposal.applications).toHaveLength(1);
      var [sender, application] = proposal.applications[0];
      expect(sender).toBe(secondAccountAddress);
      expect(application.accepted).toBe(false);
      expect(application.applicants).toHaveLength(1);
      expect(application.applicants[0].recipient).toBe(secondAccountAddress);
      expect(application.auditors).toHaveLength(1);
      expect(application.auditors[0].recipient).toBe(accountAddress);
      expect(application.verifications).toHaveLength(0);
      expect(application.deliver_by).toHaveProperty("at_height");
      expect(application.deliver_by.at_height).toBe(currentHeight + 10);
    }));
  });
  describe("approving an application", () => {
    test('if can send approval message', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      var [sender, _] = proposal.applications[0];
      var res = yield (0, _goods.approveApplication)(neutronAccount, contractAddress, 0, sender);
      expect(res.code).toBe(0);
    }));
    test('if the funds are locked now', /*#__PURE__*/_asyncToGenerator(function* () {
      var funds = yield (0, _goods.queryCustodyFunds)(neutronChain, contractAddress, neutronAccount.wallet.address.toString());
      var first = funds[0];
      expect(first[1].locked).toBe(true);
    }));
    test('if locked funds skipping work', /*#__PURE__*/_asyncToGenerator(function* () {
      var funds = yield (0, _goods.queryCustodyFunds)(neutronChain, contractAddress, neutronAccount.wallet.address.toString(), true);
      expect(funds).toHaveLength(0);
    }));
  });
  describe('accepting bounty', () => {
    test('if can accept bounty', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      var [sender, _] = proposal.applications[0];
      var res = yield (0, _goods.acceptApplication)(secondAccount, contractAddress, 0, sender);
      expect(res.code).toBe(0);
    }));
    test('if the application is now accepted', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      var [_, application] = proposal.applications[0];
      expect(application.accepted).toBe(true);
    }));
  });
  describe('verifying bounty', () => {
    test('if can verify bounty', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      var [sender, _] = proposal.applications[0];
      var res = yield (0, _goods.verifyApplication)(neutronAccount, contractAddress, 0, sender);
      expect(res.code).toBe(0);
    }));
    test('if the application is now verified', /*#__PURE__*/_asyncToGenerator(function* () {
      var proposal = yield (0, _goods.queryProposalById)(neutronChain, contractAddress, 0);
      var [_, application] = proposal.applications[0];
      expect(application.verifications).toHaveLength(1);
      expect(application.verifications[0]).toBe(accountAddress);
    }));
    test('if the funds are now unlocked', /*#__PURE__*/_asyncToGenerator(function* () {
      var funder_auditor = yield (0, _goods.queryCustodyFunds)(neutronChain, contractAddress, accountAddress);
      var hacker = yield (0, _goods.queryCustodyFunds)(neutronChain, contractAddress, secondAccountAddress);
      expect(funder_auditor[0][1].locked).toBe(false);
      expect(funder_auditor[0][1].amount).toBe('10000');
      expect(hacker[0][1].locked).toBe(false);
      expect(hacker[0][1].amount).toBe('990000');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29zbW9zIiwicmVxdWlyZSIsIl9jb21tb25fbG9jYWxjb3Ntb3NuZXQiLCJfZ29vZHMiLCJfdHlwZXMiLCJfd2FpdCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJkZXNjcmliZSIsInRlc3RTdGF0ZSIsIm5ldXRyb25DaGFpbiIsIm5ldXRyb25BY2NvdW50Iiwic2Vjb25kQWNjb3VudCIsImFjY291bnRBZGRyZXNzIiwic2Vjb25kQWNjb3VudEFkZHJlc3MiLCJjb250cmFjdEFkZHJlc3MiLCJjb25uZWN0aW9uSWQiLCJiZWZvcmVBbGwiLCJUZXN0U3RhdGVMb2NhbENvc21vc1Rlc3ROZXQiLCJpbml0IiwiQ29zbW9zV3JhcHBlciIsInNkazEiLCJibG9ja1dhaXRlcjEiLCJORVVUUk9OX0RFTk9NIiwiV2FsbGV0V3JhcHBlciIsIndhbGxldHMiLCJxYU5ldXRyb24iLCJnZW5RYVdhbDEiLCJxYU5ldXRyb25UaHJlZSIsIndhbGxldCIsImFkZHJlc3MiLCJ0b1N0cmluZyIsImNvZGVJZCIsInRlc3QiLCJzdG9yZVdhc20iLCJOZXV0cm9uQ29udHJhY3QiLCJHT09EUyIsImV4cGVjdCIsInRvQmVHcmVhdGVyVGhhbiIsImluc3RhbnRpYXRlQ29udHJhY3QiLCJfY29udHJhY3RfYWRkcmVzcyIsInJlcyIsImNyZWF0ZVByb3Bvc2FsIiwiY29kZSIsInRvQmUiLCJxdWVyeVByb3Bvc2FscyIsInRvSGF2ZVByb3BlcnR5IiwicHJvcG9zYWxzIiwibGVuZ3RoIiwicHJvcG9zYWwiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJmdW5kaW5nIiwidG9IYXZlTGVuZ3RoIiwicXVlcnlQcm9wb3NhbEJ5SWQiLCJmdW5kc1JlcyIsImZ1bmRQcm9wb3NhbCIsImRlbm9tIiwiYW1vdW50Iiwic2VuZGVyIiwiYXV0b19hZ3JlZSIsIm5hdGl2ZSIsImZ1bmRzIiwicXVlcnlDdXN0b2R5RnVuZHMiLCJmdW5kIiwicHJvcG9zYWxfaWQiLCJsb2NrZWQiLCJyZW1vdGUiLCJ0b0JlTnVsbCIsImN1cnJlbnRIZWlnaHQiLCJnZXRIZWlnaHQiLCJzZGsiLCJzdWJtaXRBcHBsaWNhdGlvbiIsInJlY2lwaWVudCIsInBlcmNlbnRfc2hhcmUiLCJhdF9oZWlnaHQiLCJhcHBsaWNhdGlvbnMiLCJhcHBsaWNhdGlvbiIsImFjY2VwdGVkIiwiYXBwbGljYW50cyIsImF1ZGl0b3JzIiwidmVyaWZpY2F0aW9ucyIsImRlbGl2ZXJfYnkiLCJfIiwiYXBwcm92ZUFwcGxpY2F0aW9uIiwiZmlyc3QiLCJhY2NlcHRBcHBsaWNhdGlvbiIsInZlcmlmeUFwcGxpY2F0aW9uIiwiZnVuZGVyX2F1ZGl0b3IiLCJoYWNrZXIiXSwic291cmNlcyI6WyJnb29kcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvc21vc1dyYXBwZXIsXG4gIE5FVVRST05fREVOT00sXG4gIFdhbGxldFdyYXBwZXIsXG59IGZyb20gJy4uLy4uL2hlbHBlcnMvY29zbW9zJztcbmltcG9ydCB7IFRlc3RTdGF0ZUxvY2FsQ29zbW9zVGVzdE5ldCB9IGZyb20gJy4uL2NvbW1vbl9sb2NhbGNvc21vc25ldCc7XG5pbXBvcnQgeyBhY2NlcHRBcHBsaWNhdGlvbiwgYXBwcm92ZUFwcGxpY2F0aW9uLCBjcmVhdGVQcm9wb3NhbCwgZnVuZFByb3Bvc2FsLCBxdWVyeUN1c3RvZHlGdW5kcywgcXVlcnlQcm9wb3NhbEJ5SWQsIHF1ZXJ5UHJvcG9zYWxzLCBzdWJtaXRBcHBsaWNhdGlvbiwgdmVyaWZ5QXBwbGljYXRpb24gfSBmcm9tICcuLi8uLi9oZWxwZXJzL2dvb2RzJztcblxuaW1wb3J0IHsgTmV1dHJvbkNvbnRyYWN0IH0gZnJvbSAnLi4vLi4vaGVscGVycy90eXBlcyc7XG5pbXBvcnQgeyBDb2RlSWQgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRIZWlnaHQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3dhaXQnO1xuXG5cblxuZGVzY3JpYmUoJ05ldXRyb24gSGFja2F0b24gVGVzdCcsICgpID0+IHtcbiAgICBcbiAgICBsZXQgdGVzdFN0YXRlOiBUZXN0U3RhdGVMb2NhbENvc21vc1Rlc3ROZXQ7XG4gICAgbGV0IG5ldXRyb25DaGFpbjogQ29zbW9zV3JhcHBlcjtcbiAgICBsZXQgbmV1dHJvbkFjY291bnQ6IFdhbGxldFdyYXBwZXIsIFxuICAgICAgICBzZWNvbmRBY2NvdW50OiBXYWxsZXRXcmFwcGVyO1xuXG4gICAgbGV0IGFjY291bnRBZGRyZXNzOiBzdHJpbmcsIHNlY29uZEFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gICAgbGV0IGNvbnRyYWN0QWRkcmVzczogc3RyaW5nO1xuXG4gICAgY29uc3QgY29ubmVjdGlvbklkID0gJ2Nvbm5lY3Rpb24tMCc7XG5cbiAgICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgICAgdGVzdFN0YXRlID0gbmV3IFRlc3RTdGF0ZUxvY2FsQ29zbW9zVGVzdE5ldCgpO1xuICAgICAgYXdhaXQgdGVzdFN0YXRlLmluaXQoKTtcbiAgICAgIG5ldXRyb25DaGFpbiA9IG5ldyBDb3Ntb3NXcmFwcGVyKFxuICAgICAgICB0ZXN0U3RhdGUuc2RrMSxcbiAgICAgICAgdGVzdFN0YXRlLmJsb2NrV2FpdGVyMSxcbiAgICAgICAgTkVVVFJPTl9ERU5PTSxcbiAgICAgICk7XG4gICAgICBuZXV0cm9uQWNjb3VudCA9IG5ldyBXYWxsZXRXcmFwcGVyKFxuICAgICAgICBuZXV0cm9uQ2hhaW4sXG4gICAgICAgIHRlc3RTdGF0ZS53YWxsZXRzLnFhTmV1dHJvbi5nZW5RYVdhbDEsXG4gICAgICApO1xuICAgICAgXG4gICAgICBzZWNvbmRBY2NvdW50ID0gbmV3IFdhbGxldFdyYXBwZXIoXG4gICAgICAgIG5ldXRyb25DaGFpbixcbiAgICAgICAgdGVzdFN0YXRlLndhbGxldHMucWFOZXV0cm9uVGhyZWUuZ2VuUWFXYWwxLFxuICAgICAgKTtcblxuICAgICAgYWNjb3VudEFkZHJlc3MgPSBuZXV0cm9uQWNjb3VudC53YWxsZXQuYWRkcmVzcy50b1N0cmluZygpXG4gICAgICBzZWNvbmRBY2NvdW50QWRkcmVzcyA9IHNlY29uZEFjY291bnQud2FsbGV0LmFkZHJlc3MudG9TdHJpbmcoKVxuICAgIH0pO1xuXG5cbiAgICBkZXNjcmliZSgnZGVwbG95aW5nIGNvbnRyYWN0JywgKCkgPT4ge1xuICAgICAgbGV0IGNvZGVJZDogQ29kZUlkO1xuICAgICAgdGVzdCgnc3RvcmUgY29udHJhY3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvZGVJZCA9IGF3YWl0IG5ldXRyb25BY2NvdW50LnN0b3JlV2FzbShcbiAgICAgICAgICBOZXV0cm9uQ29udHJhY3QuR09PRFMsXG4gICAgICAgICk7XG4gICAgICAgIGV4cGVjdChjb2RlSWQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdpbnN0YW50aWF0ZSBjb250cmFjdCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29udHJhY3RBZGRyZXNzID0gKFxuICAgICAgICAgIGF3YWl0IG5ldXRyb25BY2NvdW50Lmluc3RhbnRpYXRlQ29udHJhY3QoXG4gICAgICAgICAgICBjb2RlSWQsXG4gICAgICAgICAgICAne30nLFxuICAgICAgICAgICAgJ25ldXRyb25faW50ZXJjaGFpbl9xdWVyaWVzJyxcbiAgICAgICAgICApXG4gICAgICAgIClbMF0uX2NvbnRyYWN0X2FkZHJlc3M7XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgZGVzY3JpYmUoJ3N1Ym1pdHRpbmcgYSBwcm9wb3NhbCcsICgpID0+IHtcbiAgICAgIHRlc3QoJ2lmIGNhbiBzdWJtaXQgYSBwcm9wb3NhbCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY3JlYXRlUHJvcG9zYWwobmV1dHJvbkFjY291bnQsIGNvbnRyYWN0QWRkcmVzcylcbiAgICAgICAgZXhwZWN0KHJlcy5jb2RlKS50b0JlKDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2lmIGNhbiBxdWVyeSBhbGwgcHJvcG9zYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHF1ZXJ5UHJvcG9zYWxzKG5ldXRyb25DaGFpbiwgY29udHJhY3RBZGRyZXNzKVxuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlcykudG9IYXZlUHJvcGVydHkoJ3Byb3Bvc2FscycpO1xuICAgICAgICBleHBlY3QocmVzLnByb3Bvc2Fscy5sZW5ndGgpLnRvQmUoMSk7XG5cbiAgICAgICAgY29uc3QgcHJvcG9zYWwgPSByZXMucHJvcG9zYWxzWzBdO1xuICAgICAgICBleHBlY3QocHJvcG9zYWwuaWQpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdChwcm9wb3NhbC50aXRsZSkudG9CZSgndGVzdCBwcm9wb3NhbCcpO1xuICAgICAgICBleHBlY3QocHJvcG9zYWwuZGVzY3JpcHRpb24pLnRvQmUoJ3Rlc3QgcHJvcG9zYWwgZGVzY3JpcHRpb24nKTtcbiAgICAgICAgZXhwZWN0KHByb3Bvc2FsLmZ1bmRpbmcpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgIH0pXG5cbiAgICAgIHRlc3QoJ2lmIGNhbiBxdWVyeSBwcm9wb3NhbCBieSBpZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcG9zYWwgPSBhd2FpdCBxdWVyeVByb3Bvc2FsQnlJZChuZXV0cm9uQ2hhaW4sIGNvbnRyYWN0QWRkcmVzcywgMClcbiAgICAgICAgZXhwZWN0KHByb3Bvc2FsLmlkKS50b0JlKDApO1xuICAgICAgICBleHBlY3QocHJvcG9zYWwudGl0bGUpLnRvQmUoJ3Rlc3QgcHJvcG9zYWwnKTtcbiAgICAgICAgZXhwZWN0KHByb3Bvc2FsLmRlc2NyaXB0aW9uKS50b0JlKCd0ZXN0IHByb3Bvc2FsIGRlc2NyaXB0aW9uJyk7XG4gICAgICAgIGV4cGVjdChwcm9wb3NhbC5mdW5kaW5nKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnZnVuZGluZyBhIHByb3Bvc2FsJywgKCkgPT4ge1xuICAgICAgdGVzdCgnaWYgY2FuIHNlbmRzIGZ1bmRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBxdWVyeVByb3Bvc2FscyhuZXV0cm9uQ2hhaW4sIGNvbnRyYWN0QWRkcmVzcylcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcmVzLnByb3Bvc2Fsc1swXTtcbiAgICAgICAgY29uc3QgZnVuZHNSZXMgPSBhd2FpdCBmdW5kUHJvcG9zYWwobmV1dHJvbkFjY291bnQsIGNvbnRyYWN0QWRkcmVzcywgaWQsIFwiMTAwMDAwMFwiLCBORVVUUk9OX0RFTk9NKTtcbiAgICAgICAgZXhwZWN0KGZ1bmRzUmVzLmNvZGUpLnRvQmUoMCk7XG4gICAgICB9KVxuICAgICAgXG4gICAgICB0ZXN0KCdpZiBjYW4gcHJvcG9zYWwgbm93IGhhdmUgZnVuZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3Bvc2FsID0gYXdhaXQgcXVlcnlQcm9wb3NhbEJ5SWQobmV1dHJvbkNoYWluLCBjb250cmFjdEFkZHJlc3MsIDApXG4gICAgICAgIGV4cGVjdChwcm9wb3NhbC5mdW5kaW5nKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIGNvbnN0IFtkZW5vbSwgdmFsdWVdID0gcHJvcG9zYWwuZnVuZGluZ1swXTtcbiAgICAgICAgZXhwZWN0KGRlbm9tKS50b0JlKE5FVVRST05fREVOT00pO1xuICAgICAgICBleHBlY3QodmFsdWUuYW1vdW50KS50b0JlKFwiMTAwMDAwMFwiKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLnNlbmRlcikudG9CZShhY2NvdW50QWRkcmVzcyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5hdXRvX2FncmVlKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLm5hdGl2ZSkudG9CZSh0cnVlKTtcbiAgICAgIH0pXG5cbiAgICAgIHRlc3QoJ2lmIGZ1bmRzIGFyZSBpbiBjdXN0b2R5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmdW5kcyA9IGF3YWl0IHF1ZXJ5Q3VzdG9keUZ1bmRzKG5ldXRyb25DaGFpbiwgY29udHJhY3RBZGRyZXNzLCBuZXV0cm9uQWNjb3VudC53YWxsZXQuYWRkcmVzcy50b1N0cmluZygpKVxuICAgICAgICBleHBlY3QoZnVuZHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgY29uc3QgW2Rlbm9tLCBmdW5kXSA9IGZ1bmRzWzBdO1xuICAgICAgICBleHBlY3QoZGVub20pLnRvQmUoTkVVVFJPTl9ERU5PTSk7XG4gICAgICAgIGV4cGVjdChmdW5kLnByb3Bvc2FsX2lkKS50b0JlKDApO1xuICAgICAgICBleHBlY3QoZnVuZC5sb2NrZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoZnVuZC5hbW91bnQpLnRvQmUoXCIxMDAwMDAwXCIpO1xuICAgICAgICBleHBlY3QoZnVuZC5yZW1vdGUpLnRvQmVOdWxsKCk7XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnc3VibWl0dGluZyBhIGFwcGxpY2F0aW9uJywgKCkgPT4ge1xuICAgICAgXG4gICAgICBsZXQgY3VycmVudEhlaWdodDtcbiAgICAgIFxuICAgICAgdGVzdCgnaWYgY2FuIHN1Ym1pdCBhIGFwcGxpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuXG4gICAgICAgIGN1cnJlbnRIZWlnaHQgPSBhd2FpdCBnZXRIZWlnaHQobmV1dHJvbkNoYWluLnNkayk7XG5cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgc3VibWl0QXBwbGljYXRpb24oXG4gICAgICAgICAgICBzZWNvbmRBY2NvdW50LCBcbiAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzcyxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBbeyByZWNpcGllbnQ6IHNlY29uZEFjY291bnRBZGRyZXNzLCBwZXJjZW50X3NoYXJlOiA5OSB9XSxcbiAgICAgICAgICAgIFt7IHJlY2lwaWVudDogYWNjb3VudEFkZHJlc3MsIHBlcmNlbnRfc2hhcmU6IDEgfV0sXG4gICAgICAgICAgICB7IGF0X2hlaWdodDogY3VycmVudEhlaWdodCArIDEwIH0sXG4gICAgICAgIClcbiAgICAgICAgZXhwZWN0KHJlcy5jb2RlKS50b0JlKDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2lmIHRoZSBwcm9wb3NhbCBub3cgaGF2ZSBhcHBsaWNhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3Bvc2FsID0gYXdhaXQgcXVlcnlQcm9wb3NhbEJ5SWQobmV1dHJvbkNoYWluLCBjb250cmFjdEFkZHJlc3MsIDApXG4gICAgICAgIGV4cGVjdChwcm9wb3NhbC5hcHBsaWNhdGlvbnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgY29uc3QgW3NlbmRlciwgYXBwbGljYXRpb25dID0gcHJvcG9zYWwuYXBwbGljYXRpb25zWzBdO1xuICAgICAgICBleHBlY3Qoc2VuZGVyKS50b0JlKHNlY29uZEFjY291bnRBZGRyZXNzKTtcbiAgICAgICAgZXhwZWN0KGFwcGxpY2F0aW9uLmFjY2VwdGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGFwcGxpY2F0aW9uLmFwcGxpY2FudHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KGFwcGxpY2F0aW9uLmFwcGxpY2FudHNbMF0ucmVjaXBpZW50KS50b0JlKHNlY29uZEFjY291bnRBZGRyZXNzKTtcbiAgICAgICAgZXhwZWN0KGFwcGxpY2F0aW9uLmF1ZGl0b3JzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIGV4cGVjdChhcHBsaWNhdGlvbi5hdWRpdG9yc1swXS5yZWNpcGllbnQpLnRvQmUoYWNjb3VudEFkZHJlc3MpO1xuICAgICAgICBleHBlY3QoYXBwbGljYXRpb24udmVyaWZpY2F0aW9ucykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICBleHBlY3QoYXBwbGljYXRpb24uZGVsaXZlcl9ieSkudG9IYXZlUHJvcGVydHkoXCJhdF9oZWlnaHRcIik7XG4gICAgICAgIGV4cGVjdCgoYXBwbGljYXRpb24uZGVsaXZlcl9ieSBhcyBhbnkpLmF0X2hlaWdodCkudG9CZShjdXJyZW50SGVpZ2h0ICsgMTApO1xuICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICBkZXNjcmliZShcImFwcHJvdmluZyBhbiBhcHBsaWNhdGlvblwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdpZiBjYW4gc2VuZCBhcHByb3ZhbCBtZXNzYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wb3NhbCA9IGF3YWl0IHF1ZXJ5UHJvcG9zYWxCeUlkKG5ldXRyb25DaGFpbiwgY29udHJhY3RBZGRyZXNzLCAwKVxuICAgICAgICBjb25zdCBbc2VuZGVyLCBfXSA9IHByb3Bvc2FsLmFwcGxpY2F0aW9uc1swXTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBwcm92ZUFwcGxpY2F0aW9uKG5ldXRyb25BY2NvdW50LCBjb250cmFjdEFkZHJlc3MsIDAsIHNlbmRlcilcbiAgICAgICAgZXhwZWN0KHJlcy5jb2RlKS50b0JlKDApO1xuICAgICAgfSlcblxuICAgICAgdGVzdCgnaWYgdGhlIGZ1bmRzIGFyZSBsb2NrZWQgbm93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmdW5kcyA9IGF3YWl0IHF1ZXJ5Q3VzdG9keUZ1bmRzKG5ldXRyb25DaGFpbiwgY29udHJhY3RBZGRyZXNzLCBuZXV0cm9uQWNjb3VudC53YWxsZXQuYWRkcmVzcy50b1N0cmluZygpKVxuICAgICAgICBjb25zdCBmaXJzdCA9IGZ1bmRzWzBdO1xuICAgICAgICBleHBlY3QoZmlyc3RbMV0ubG9ja2VkKS50b0JlKHRydWUpO1xuICAgICAgfSlcblxuICAgICAgdGVzdCgnaWYgbG9ja2VkIGZ1bmRzIHNraXBwaW5nIHdvcmsnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZ1bmRzID0gYXdhaXQgcXVlcnlDdXN0b2R5RnVuZHMobmV1dHJvbkNoYWluLCBjb250cmFjdEFkZHJlc3MsIG5ldXRyb25BY2NvdW50LndhbGxldC5hZGRyZXNzLnRvU3RyaW5nKCksIHRydWUpXG4gICAgICAgIGV4cGVjdChmdW5kcykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ2FjY2VwdGluZyBib3VudHknLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdpZiBjYW4gYWNjZXB0IGJvdW50eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcG9zYWwgPSBhd2FpdCBxdWVyeVByb3Bvc2FsQnlJZChuZXV0cm9uQ2hhaW4sIGNvbnRyYWN0QWRkcmVzcywgMClcbiAgICAgICAgY29uc3QgW3NlbmRlciwgX10gPSBwcm9wb3NhbC5hcHBsaWNhdGlvbnNbMF07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFjY2VwdEFwcGxpY2F0aW9uKHNlY29uZEFjY291bnQsIGNvbnRyYWN0QWRkcmVzcywgMCwgc2VuZGVyKVxuICAgICAgICBleHBlY3QocmVzLmNvZGUpLnRvQmUoMCk7XG4gICAgICB9KVxuXG4gICAgICB0ZXN0KCdpZiB0aGUgYXBwbGljYXRpb24gaXMgbm93IGFjY2VwdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wb3NhbCA9IGF3YWl0IHF1ZXJ5UHJvcG9zYWxCeUlkKG5ldXRyb25DaGFpbiwgY29udHJhY3RBZGRyZXNzLCAwKVxuICAgICAgICBjb25zdCBbXywgYXBwbGljYXRpb25dID0gcHJvcG9zYWwuYXBwbGljYXRpb25zWzBdO1xuICAgICAgICBleHBlY3QoYXBwbGljYXRpb24uYWNjZXB0ZWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KVxuICAgIH0pXG4gICAgXG4gICAgZGVzY3JpYmUoJ3ZlcmlmeWluZyBib3VudHknLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdpZiBjYW4gdmVyaWZ5IGJvdW50eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcG9zYWwgPSBhd2FpdCBxdWVyeVByb3Bvc2FsQnlJZChuZXV0cm9uQ2hhaW4sIGNvbnRyYWN0QWRkcmVzcywgMClcbiAgICAgICAgY29uc3QgW3NlbmRlciwgX10gPSBwcm9wb3NhbC5hcHBsaWNhdGlvbnNbMF07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHZlcmlmeUFwcGxpY2F0aW9uKG5ldXRyb25BY2NvdW50LCBjb250cmFjdEFkZHJlc3MsIDAsIHNlbmRlcilcbiAgICAgICAgZXhwZWN0KHJlcy5jb2RlKS50b0JlKDApO1xuICAgICAgfSlcblxuICAgICAgdGVzdCgnaWYgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdyB2ZXJpZmllZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcG9zYWwgPSBhd2FpdCBxdWVyeVByb3Bvc2FsQnlJZChuZXV0cm9uQ2hhaW4sIGNvbnRyYWN0QWRkcmVzcywgMClcbiAgICAgICAgY29uc3QgW18sIGFwcGxpY2F0aW9uXSA9IHByb3Bvc2FsLmFwcGxpY2F0aW9uc1swXTtcbiAgICAgICAgZXhwZWN0KGFwcGxpY2F0aW9uLnZlcmlmaWNhdGlvbnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KGFwcGxpY2F0aW9uLnZlcmlmaWNhdGlvbnNbMF0pLnRvQmUoYWNjb3VudEFkZHJlc3MpO1xuICAgICAgfSlcblxuICAgICAgdGVzdCgnaWYgdGhlIGZ1bmRzIGFyZSBub3cgdW5sb2NrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZ1bmRlcl9hdWRpdG9yID0gYXdhaXQgcXVlcnlDdXN0b2R5RnVuZHMobmV1dHJvbkNoYWluLCBjb250cmFjdEFkZHJlc3MsIGFjY291bnRBZGRyZXNzKVxuICAgICAgICBjb25zdCBoYWNrZXIgPSBhd2FpdCBxdWVyeUN1c3RvZHlGdW5kcyhuZXV0cm9uQ2hhaW4sIGNvbnRyYWN0QWRkcmVzcywgc2Vjb25kQWNjb3VudEFkZHJlc3MpXG4gICAgICAgIFxuICAgICAgICBleHBlY3QoZnVuZGVyX2F1ZGl0b3JbMF1bMV0ubG9ja2VkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGZ1bmRlcl9hdWRpdG9yWzBdWzFdLmFtb3VudCkudG9CZSgnMTAwMDAnKTtcblxuICAgICAgICBleHBlY3QoaGFja2VyWzBdWzFdLmxvY2tlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChoYWNrZXJbMF1bMV0uYW1vdW50KS50b0JlKCc5OTAwMDAnKTtcbiAgICAgIH0pXG4gICAgfSlcblxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLE9BQUEsR0FBQUMsT0FBQTtBQUtBLElBQUFDLHNCQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFGLE9BQUE7QUFFQSxJQUFBRyxNQUFBLEdBQUFILE9BQUE7QUFFQSxJQUFBSSxLQUFBLEdBQUFKLE9BQUE7QUFBK0MsU0FBQUssbUJBQUFDLEdBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLEtBQUEsRUFBQUMsTUFBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUEsY0FBQUMsSUFBQSxHQUFBUCxHQUFBLENBQUFLLEdBQUEsRUFBQUMsR0FBQSxPQUFBRSxLQUFBLEdBQUFELElBQUEsQ0FBQUMsS0FBQSxXQUFBQyxLQUFBLElBQUFQLE1BQUEsQ0FBQU8sS0FBQSxpQkFBQUYsSUFBQSxDQUFBRyxJQUFBLElBQUFULE9BQUEsQ0FBQU8sS0FBQSxZQUFBRyxPQUFBLENBQUFWLE9BQUEsQ0FBQU8sS0FBQSxFQUFBSSxJQUFBLENBQUFULEtBQUEsRUFBQUMsTUFBQTtBQUFBLFNBQUFTLGtCQUFBQyxFQUFBLDZCQUFBQyxJQUFBLFNBQUFDLElBQUEsR0FBQUMsU0FBQSxhQUFBTixPQUFBLFdBQUFWLE9BQUEsRUFBQUMsTUFBQSxRQUFBRixHQUFBLEdBQUFjLEVBQUEsQ0FB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